#include "Map.h"

static int stage1data[MAP_HEIGHT][MAP_WIDTH] = {
	{ 25, 31, 32,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1, 1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1, 26},
	{ 27, 33, 34,  6,  6,  6,  6,  6,  6,  6,  6,  6,  6,  6,  6,  6,  6,  6,  6,  6,  6,  6,  6,  6,  6,  6,  6,  6,  6,  6,  6,  6,  6,  6,  6,  6,  6,  6,  6,  6,  6,  6,  6,  6,  6,  6,  6,  6,  6,  6,  6,  6,  6, 6,  6,  6,  6,  6,  6,  6,  6,  6,  6,  6,  6,  6,  6,  6,  6,  6,  6, 28},
	{ 27, 35, 36, 10, 10, 10, 50, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10,10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 28},
	{ 27,125,126,126,126,232,233,234,126,126,126,126,126,126,126,126,126,126,126,126,126,126,126,126,126,126,126,126,126,126,126,126,126,126,126,126,126,126,126,126,126,126,126,126,126,126,126,126,126,126,126,126,126,126,126,126,126,126,126,126,126,126,126,126,126,126,126,126,126,126,127,28},
	{ 27,128,129,129,129,235,236,237,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,130,28},
	{ 27,128,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,130,28},
	{ 27,128,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,130,28},
	{ 27,128,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,130,28},
	{ 27,128,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,130,28},
	{ 27,128,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,130,28},
	{ 27,128,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,130,28},
	{ 27,128,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,130,28},
	{ 27,128,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,130,28},
	{ 27,128,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,130,28},
	{ 27,128,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,130,28},
	{ 27,128,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,130,28},
	{ 27,128,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,130,28},
	{ 27,128,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,130,28},
	{ 27,128,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,130,28},
	{ 27,128,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,130,28},
	{ 27,128,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,130,28},
	{ 27,128,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,130,28},
	{ 27,128,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,130,28},
	{ 27,128,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,130,28},
	{ 27,128,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,130,28},
	{ 27,128,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,130,28},
	{ 27,128,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,130,28},
	{ 27,128,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,130,28},
	{ 27,128,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,250,251,143,28},
	{ 29, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14,252,253, 14,30},
};

static int stage2data[MAP_HEIGHT][MAP_WIDTH] = {
	{ 25,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1, 26,  0,  0,  0,  0,  0,  0,  0,  0,  0, 25,  1,  1, 1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1, 31, 32, 26},
	{ 27,  6,  6,  6,  6,  6,  6,  6,  6,  6,  6,  6,  6,  6,  6,  6,  6,  6,  6,  6,  6,  6,  6,  6,  6,  6,  6,  6,  6,  6,  6,  6,  6,  6,  6,  6,  6,  6,  6,  6, 28,  0,  0,  0,  0,  0,  0,  0,  0,  0, 27,  6,  6, 6,  6,  6,  6,  6,  6,  6,  6,  6,  6,  6,  6,  6,  6,  6,  6, 33, 34, 28},
	{ 27,  9, 10, 10, 10, 10, 50, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 28,  0,  0,  0,  0,  0,  0,  0,  0,  0, 27, 10, 10,10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 35, 36, 28},
	{ 27,125,126,126,126,232,233,234,126,126,126,126,126,126,126,126,126,126,126,126,126,126,126,126,126,126,126,126,126,126,126,126,126,126,126,126,126,126,126,126, 28,  0,  0,  0,  0,  0,  0,  0,  0,  0, 27,126,126,126,126,126,126,126,126,126,126,126,126,126,126,126,126,126,126,126,127,28},
	{ 27,128,129,129,129,235,236,237,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129, 28,  0,  0,  0,  0,  0,  0,  0,  0,  0, 27,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,130,28},
	{ 27,128,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129, 28,  0,  0,  0,  0,  0,  0,  0,  0,  0, 27,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,130,28},
	{ 27,128,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129, 28,  0,  0,  0,  0,  0,  0,  0,  0,  0, 27,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,130,28},
	{ 27,128,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129, 28,  0,  0,  0,  0,  0,  0,  0,  0,  0, 27,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,130,28},
	{ 27,128,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129, 28,  0,  0,  0,  0,  0,  0,  0,  0,  0, 27,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,130,28},
	{ 27,128,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129, 28,  0,  0,  0,  0,  0,  0,  0,  0,  0, 27,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,130,28},
	{ 27,128,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129, 28,  0,  0,  0,  0,  0,  0,  0,  0,  0, 27,129,129,129, 13, 14, 14, 15,129,129, 13, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14,30},
	{ 29, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 15,129,129,129, 13, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 15,129,129,129,129,129,129,129,129,129,129,129, 28,  0,  0,  0,  0,  0,  0,  0,  0,  0, 27,129,129,129, 28,  0,  0, 27,129,129, 28,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0, 0},
	{  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0, 27,129,129,129, 28,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0, 27,129,129,129,129,129,129,129,129,129,129,129, 28,  0,  0,  0,  0,  0,  0,  0,  0,  0, 27,129,129,129, 28,  0,  0, 27,129,129, 28,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0, 0},
	{  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0, 27,129,129,129, 28,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0, 27,129,129,129,129,129,129,129,129,129,129,129, 28,  0,  0,  0,  0,  0,  0,  0,  0,  0, 27,129,129,129, 28,  0,  0, 27,129,129, 28,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0, 0},
	{  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0, 27,129,129,129, 28,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0, 27,129,129,129,129,129,129,129,129,129,129,129, 28,  0,  0,  0,  0,  0,  0,  0,  0,  0, 27,129,129,129, 28,  0,  0, 27,129,129, 28,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0, 0},
	{  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0, 27,129,129,129, 28,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0, 27,129,129,129,129,129,129,129,129,129,129,129, 28,  0,  0,  0,  0,  0,  0,  0,  0,  0, 27,129,129,129, 28,  0,  0, 27,129,129, 16,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,26},
	{  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0, 27,129,129,129, 28,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0, 27,129,129,129,129,129,129,129,129,129,129,129, 28,  0,  0,  0,  0,  0,  0,  0,  0,  0, 27,129,129,129, 28,  0,  0, 27,129,129, 19,  6,  6,  6,  6,  6,  6,  6,  6,  6,  6,28},
	{  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0, 27,129,129,129, 28,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0, 27,129,129,129,129,129,129,129,129,129,129,129, 28,  0,  0,  0,  0,  0,  0,  0,  0,  0, 27,129,129,129, 28,  0,  0, 27,129,129, 22, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10,28},
	{  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,209,210,211,212,213,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0, 27,129,129,129,129,129,129,129,129,129,129,129, 28,  0,  0,  0,  0,  0,  0,  0,  0,  0, 27,129,129,129, 28,  0,  0, 27,129,129,129,129,129,129,129,129,129,129,129,129,130,28},
	{  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0, 27, 96, 96, 96, 28,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0, 27,129,129,129,129,129,129,129,129,129,129,129, 28,  0,  0,  0,  0,  0,  0,  0,  0,  0, 27,129,129,129, 28,  0,  0, 27,129,129,129,129,129,129,129,129,129,129,129,129,130,28},
	{ 25,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1, 18, 97, 97, 97, 16,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1, 18,129,129,129,129,129,129,129,129,129,129,129, 16,  1,  1,  1,  1, 37, 38,  1,  1,  1, 18,129,129,129, 28,  0,  0, 27,129,129,129,129,129,129,129,129,129,129,129,129,130,28},
	{ 27,  6,  6,  6,  6,  6,  6,  6,  6,  6,  6, 21, 97, 97, 97, 19,  6,  6,  6,  6,  6,  6,  6,  6,  6,  6,  6,  6, 21,129,129,129,129,129,129,129,129,129,129,129, 19,  6,  6,  6,  6, 39, 40,  6,  6,  6, 21,129,129,129, 28,  0,  0, 27,129,129,129,129,129,129,129,129,129,129,129,129,130,28},
	{ 27,  9, 10, 10, 10, 10, 50, 10, 10, 10, 10, 24,214,215,216, 22, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 24,129,129,129,129,129,129,129,129,129,129,129, 22, 10, 10, 10, 10, 41, 42, 10, 10, 10, 24,129,129,129, 28,  0,  0, 27,129,129,129,129,129,129,129,129,129,129,129,129,130,28},
	{ 27,128,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129, 28,  0,  0, 27,129,129,129,129,129,129,129,129,129,129,129,129,130,28},
	{ 27,128,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129, 28,  0,  0, 27,129,129,129,129,129,129,129,129,129,129,129,129,130,28},
	{ 27,128,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129, 28,  0,  0, 27,129,129,129,129,129,129,129,129,129,129,129,129,130,28},
	{ 27,128,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129, 28,  0,  0, 27,129,129,129,129,129,129,129,129,129,129,129,129,130,28},
	{ 27,128,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129, 28,  0,  0, 27,129,129,129,129,129,129,129,129,129,129,129,129,130,28},
	{ 27,128,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129, 28,  0,  0, 27,129,129,129,129,129,129,129,129,129,129,129,129,130,28},
	{ 29, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 30,  0,  0, 29, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14,30},
};


Map::Map(int stage) :Base(eType_Field)
{
	//画像複製
	m_img = COPY_RESOURCE("dTiles", CImage);
	switch (stage){
	case 1:
		memcpy(m_stagedata, stage1data, sizeof(stage1data));
		break;
	case 2:
		memcpy(m_stagedata, stage2data, sizeof(stage2data));
		break;
	}
}

void Map::Draw()
{
	//マップチップによる表示の繰り返し
	for (int i = 0; i < MAP_HEIGHT; i++) {
		for (int j = 0; j < MAP_WIDTH; j++) {
			//表示しない制御
			if (m_stagedata[i][j] == 0)continue;
			int t = m_stagedata[i][j];
			int x = t % 25;
			int y = t / 25;
			//画像切り抜き
			m_img.SetRect(16 * x, 16 * y, 16 * x + 16, 16 * y + 16);
			//m_img.SetRect(16, 0, 16 + 16, 16);
			//表示サイズ設定
			m_img.SetSize(MAP_TIP_SIZE, MAP_TIP_SIZE);
			//表示位置設定
			m_img.SetPos(MAP_TIP_SIZE * j-m_scroll.x, MAP_TIP_SIZE * i-m_scroll.y);
			//描画
			m_img.Draw();
		}
	}
}

int Map::GetTip(const CVector2D& pos)
{
	//列を計算
	int col = pos.x / MAP_TIP_SIZE;
	//列の制限（0〜MAP_WIDTH-1）
	if (col < 0)col = 0;
	if (col > MAP_WIDTH - 1)col = MAP_WIDTH - 1;
	//行を計算
	int raw = pos.y / MAP_TIP_SIZE;
	//行の制限（0〜MAP_HEIGHT-1）
	if (raw < 0)raw = 0;
	if (raw > MAP_HEIGHT - 1)raw = MAP_HEIGHT - 1;
	//チップデータを返却
	return GetTip(col, raw);
}

int Map::GetTip(int col, int raw)
{
	return m_stagedata[raw][col];
}

int Map::CollisionMap(const CVector2D& pos)
{
	//1点のみ検証
	int t = GetTip(pos);
	if (t < 125)return t;
	return 0;
}

int Map::CollisionMap(const CVector2D& pos, const CRect& rect)
{
	//左上
	int t = GetTip(CVector2D(pos.x + rect.m_left, pos.y + rect.m_top));
	if (t < 5) return t;
	//右上
	t = GetTip(CVector2D(pos.x + rect.m_right, pos.y + rect.m_top));
	if (t < 5) return t;
	//左下
	t = GetTip(CVector2D(pos.x + rect.m_left, pos.y + rect.m_bottom));
	if (t < 5) return t;
	//右下
	t = GetTip(CVector2D(pos.x + rect.m_right, pos.y + rect.m_bottom));
	if (t < 5) return t;
	return 0;
}